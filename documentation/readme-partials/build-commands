
## Build Commands

### Documentation
```bash
# generate grype, syft and README.md
./scripts/gen-docs.sh
```

### Git
- make code changes and push with git as usual
- image build and push will occur when a tag is added
  - can be any branch
  - can be any format but must start with a 'v'
```bash
# add tag
git tag -a v1.1.0 -m "v1.1.0"

# push tag
git push --follow-tags
```

### Docker
- [Dockerhub](https://hub.docker.com/repository/docker/adegoodyer/kubernetes-admin-toolkit)

```bash
# build and test locally
d build -t kubernetes-admin-toolkit:test . &&
d run -it --rm \
--name kubernetes-admin-toolkit-test \
kubernetes-admin-toolkit:test

# build image
d build -t adegoodyer/kubernetes-admin-toolkit:v0.0.1 -t adegoodyer/kubernetes-admin-toolkit:latest .

# sec scan
grype adegoodyer/kubernetes-admin-toolkit:latest

# generate SBOM
syft adegoodyer/kubernetes-admin-toolkit:latest

# push image
d logout && d login --username=adegoodyer
d push adegoodyer/ubuntu --all-tags
```
